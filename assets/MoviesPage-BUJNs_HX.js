import{r as o,c as p,j as e}from"./index-CkgdGYXC.js";import{a as d,A as x}from"./config--onS6N-O.js";import{M as v}from"./MoviesList-CAq-EP_V.js";const y="_form_cm7hb_1",S="_input_cm7hb_7",n={form:y,input:S},b=()=>{const[c,u]=o.useState([]),[i,m]=p(),[h,l]=o.useState(!1),s=i.get("query");o.useEffect(()=>{if(!s)return;async function t(){const r={headers:{Authorization:`Bearer ${x}`},params:{query:s}};try{const{data:a}=await d.get("https://api.themoviedb.org/3/search/movie",r);u(a.results)}catch(a){console.error(a)}}l(!0),t()},[s]);function f(t){t.preventDefault();const r=t.target.elements.query.value;r.length&&m({query:r})}return e.jsxs("div",{children:[e.jsxs("form",{onSubmit:f,className:n.form,children:[e.jsx("input",{type:"text",name:"query",className:n.input,required:!0,defaultValue:s}),e.jsx("button",{type:"submit",children:"Search"})]}),e.jsx(v,{movies:c}),h&&!c.length&&e.jsx("p",{children:"No results found"})]})};export{b as default};
